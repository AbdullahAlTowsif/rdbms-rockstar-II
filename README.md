## рзз. PostgreSQL ржХрзА?

**PostgreSQL** ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА, ржУржкрзЗржи рж╕рзЛрж░рзНрж╕ **рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ ржбрж╛ржЯрж╛ржмрзЗржЬ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо (RDBMS)**, ржпрж╛ SQL (Structured Query Language) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржбрж╛ржЯрж╛ ржорзНржпрж╛ржирж┐ржкрзБрж▓рзЗрж╢ржи ржПржмржВ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ ржХрж░рзЗред ржПржЯрж┐ ACID (Atomicity, Consistency, Isolation, Durability) ржХржоржкрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ, ржЕрж░рзНржерж╛рзО ржбрж╛ржЯрж╛ ржЗржирзНржЯрж┐ржЧрзНрж░рж┐ржЯрж┐ ржПржмржВ ржЯрзНрж░рж╛ржиржЬрзЗржХрж╢ржи рж╕рзЗржлржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред

**PostgreSQL-ржПрж░ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп:**
- ржПржЯрж┐ ACID (Atomicity, Consistency, Isolation, Durability) ржХржоржкрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ, ржЕрж░рзНржерж╛рзО ржПржЯрж┐ ржЯрзНрж░рж╛ржирзНрж╕рзНржпрж╛ржХрж╢ржирзЗрж░ ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред
- ржПрждрзЗ Stored Procedures, Triggers, Views, ржПржмржВ Custom Data Types ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ред
- JSON, XML, ржПржмржВ hstore ржПрж░ ржорждрзЛ ржиржи-рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ ржбрзЗржЯрж╛ ржЯрж╛ржЗржкржУ рж╕ржорж░рзНржержи ржХрж░рзЗред
- ржПржЯрж┐ concurrency management ржПрж░ ржЬржирзНржп **MVCC (Multi-Version Concurrency Control)** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ, ржпрж╛ ржПржХрж╛ржзрж┐ржХ ржЗржЙржЬрж╛рж░ржХрзЗ ржПржХрж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рж╛рж░ рж╕рзБржмрж┐ржзрж╛ ржжрзЗржпрж╝ред

ЁЯУМ **ржЙржжрж╛рж╣рж░ржг:**  
ржзрж░рж╛ ржпрж╛ржХ ржЖржорж╛ржжрзЗрж░ ржПржХржЯрж┐ `students` ржЯрзЗржмрж┐рж▓ ржЖржЫрзЗ:

```
-- ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐ ржХрж░рж╛
CREATE TABLE students (
    id SERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    department TEXT,
    cgpa NUMERIC
);
```

## рзи. LIMIT ржПржмржВ OFFSET ржХрзНрж▓ржЬ ржХрзА ржХрж╛ржЬрзЗ рж▓рж╛ржЧрзЗ?
**LIMIT** ржХрзНрж▓ржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрзЛржпрж╝рзЗрж░рж┐рж░ ржлрж▓рж╛ржлрж▓рзЗрж░ рж╕рзАржорж┐ржд рж╕ржВржЦрзНржпржХ рж░рзЛ (row) ржлрзЗрж░ржд ржирзЗржУржпрж╝рж╛ ржпрж╛ржпрж╝ред ржПржЯрж┐ ржкрзЗржЬрж┐ржирзЗрж╢ржирзЗ (Pagination) ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред
**рж╕рж┐ржиржЯрзНржпрж╛ржХрзНрж╕:**
```
SELECT * FROM table_name LIMIT number;
```
**ржЙржжрж╛рж╣рж░ржг:**
```
-- ржкрзНрж░ржержо рзлржЯрж┐ рж╕рзНржЯрзБржбрзЗржирзНржЯ ржбрж╛ржЯрж╛ ржжрзЗржЦрж╛ржмрзЗ
SELECT * FROM students LIMIT 5;
```
**OFFSET** ржХрзНрж▓ржЬ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕ржВржЦрзНржпржХ рж░рзЛ рж╕рзНржХрж┐ржк ржХрж░рзЗ ржкрж░рзЗрж░ рж░рзЛ ржЧрзБрж▓рзЛ ржжрзЗржЦрж╛ржпрж╝ред ржПржЯрж┐ LIMIT-ржПрж░ рж╕рж╛ржерзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржкрзЗржЬрж┐ржирзЗрж╢ржи ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рж╛ ржпрж╛ржпрж╝ред
**рж╕рж┐ржиржЯрзНржпрж╛ржХрзНрж╕:**
```
SELECT * FROM table_name LIMIT number OFFSET number;
```
**ржЙржжрж╛рж╣рж░ржг:**
```
-- ржкрзНрж░ржержо рзл рж░рзЛ рж╕рзНржХрж┐ржк ржХрж░рзЗ ржкрж░рзЗрж░ рзлржЯрж┐ рж░рзЛ ржжрзЗржЦрж╛ржмрзЗ (ржкрзЗржЬ рзи-ржПрж░ ржбрж╛ржЯрж╛)
SELECT * FROM students LIMIT 5 OFFSET 5;
```

## рзй. JOIN ржЕржкрж╛рж░рзЗрж╢ржи ржХрзА ржПржмржВ ржПржЯрж┐ PostgreSQL-ржП ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?
**JOIN** рж╣рж▓ ржПржоржи ржПржХржЯрж┐ ржЕржкрж╛рж░рзЗрж╢ржи ржпрж╛ ржжрзБржЯрж┐ ржмрж╛ рждрждрзЛржзрж┐ржХ ржЯрзЗржмрж┐рж▓ржХрзЗ ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕ржорзНржкрж░рзНржХ (common field) ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╕ржВржпрзБржХрзНржд ржХрж░рзЗ ржбрзЗржЯрж╛ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

**JOIN-ржПрж░ ржзрж░ржгрж╕ржорзВрж╣:**
- **INNER JOIN**: рж╢рзБржзрзБ рж╕рзЗржЗ рж░рзЗржХрж░рзНржбржЧрзБрж▓рзЛ ржжрзЗржЦрж╛рзЯ ржпрзЗржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ ржорж┐рж▓ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ред
- **LEFT JOIN**: ржмрж╛ржо ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб ржУ ржбрж╛ржи ржЯрзЗржмрж┐рж▓рзЗрж░ ржорж┐рж▓ ржерж╛ржХрж╛ рж░рзЗржХрж░рзНржбред
- **RIGHT JOIN**: ржбрж╛ржи ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб ржУ ржмрж╛ржо ржЯрзЗржмрж┐рж▓рзЗрж░ ржорж┐рж▓ ржерж╛ржХрж╛ рж░рзЗржХрж░рзНржбред
- **FULL OUTER JOIN**: ржЙржнржпрж╝ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб, ржорж┐рж▓ ржерж╛ржХрзБржХ ржмрж╛ ржирж╛ ржерж╛ржХрзБржХред

**ржЙржжрж╛рж╣рж░ржг:**
ржзрж░рж╛ ржпрж╛ржХ ржЖржорж╛ржжрзЗрж░ ржирж┐ржЪрзЗрж░ ржжрзБржЯрж┐ ржЯрзЗржмрж┐рж▓ ржЖржЫрзЗ:
# ЁЯЯй **students** ржЯрзЗржмрж┐рж▓:
```
| id | name  | dept_id  |
| -- | ----- | -------- |
| 1  | Rahim | 101      |
| 2  | Karim | 102      |
| 3  | Sumon | 103      |
| 4  | Jamil | NULL     |

```
# ЁЯЯй **departments** ржЯрзЗржмрж┐рж▓:
```
| id  | department_name  |
| --- | ---------------- |
| 101 | CSE              |
| 102 | EEE              |
| 104 | BBA              |
```

# INNER JOIN
**INNER JOIN** рж╢рзБржзрзБ рж╕рзЗржЗ рж░рзЗржХрж░рзНржбржЧрзБрж▓рзЛржЗ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ ржпрзЗржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ ржЙржнржпрж╝ ржЯрзЗржмрж┐рж▓рзЗ ржорж┐рж▓ ржЖржЫрзЗред
```
SELECT students.name, departments.department_name
FROM students
INNER JOIN departments
ON students.dept_id = departments.id;
```
# ржлрж▓рж╛ржлрж▓:
```
| name  | department_name  |
| ----- | ---------------- |
| Rahim | CSE              |
| Karim | EEE              |
```
# ЁЯУЭ ржмрзНржпрж╛ржЦрзНржпрж╛: рж╢рзБржзрзБржорж╛рждрзНрж░ dept_id = 101 ржПржмржВ 102-ржПрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржжрзБржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗ ржорж┐рж▓ ржкрж╛ржУржпрж╝рж╛ ржЧрзЗржЫрзЗред рждрж╛ржЗ ржЕржирзНржп рж░рзЗржХрж░рзНржбржЧрзБрж▓рзЛ ржмрж╛ржж ржЧрзЗржЫрзЗред


# LEFT JOIN / LEFT OUTER JOIN
**LEFT JOIN** ржмрж╛ржо ржкрж╛рж╢рзЗ ржерж╛ржХрж╛ ржЯрзЗржмрж┐рж▓рзЗрж░ (ржкрзНрж░ржержо ржЯрзЗржмрж┐рж▓рзЗрж░) рж╕ржм рж░рзЗржХрж░рзНржб ржлрзЗрж░ржд ржжрзЗржпрж╝, ржПржоржиржХрж┐ ржпржжрж┐ ржбрж╛ржи ржкрж╛рж╢рзЗ ржерж╛ржХрж╛ ржЯрзЗржмрж┐рж▓рзЗ (ржжрзНржмрж┐рждрзАржпрж╝ ржЯрзЗржмрж┐рж▓) ржорж┐рж▓ ржирж╛ ржерж╛ржХрзЗ рждржмрзБржУред

```
SELECT students.name, departments.department_name
FROM students
LEFT JOIN departments
ON students.dept_id = departments.id;

```

# ржлрж▓рж╛ржлрж▓:
```
| name  | department_name  |
| ----- | ---------------- |
| Rahim | CSE              |
| Karim | EEE              |
| Sumon | NULL             |
| Jamil | NULL             |
```
# ЁЯУЭ ржмрзНржпрж╛ржЦрзНржпрж╛: Sumon-ржПрж░ dept_id (103) ржПржмржВ Jamil-ржПрж░ dept_id ржирзЗржЗ, рждрж╛ржЗ рждрж╛ржжрзЗрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ department_name NULL рж╣ржпрж╝рзЗржЫрзЗ, ржХрж┐ржирзНрждрзБ рждрж╛рж░ ржкрж░рзЗржУ рждрж╛рж░рж╛ ржлрж▓рж╛ржлрж▓рзЗ ржПрж╕рзЗржЫрзЗред


# RIGHT JOIN / RIGHT OUTER JOIN
**RIGHT JOIN** ржбрж╛ржи ржкрж╛рж╢рзЗ ржерж╛ржХрж╛ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб ржлрзЗрж░ржд ржжрзЗржпрж╝, ржПржоржиржХрж┐ ржпржжрж┐ ржмрж╛ржо ржкрж╛рж╢рзЗ ржорж┐рж▓ ржирж╛ ржерж╛ржХрзЗред

```
SELECT students.name, departments.department_name
FROM students
RIGHT JOIN departments
ON students.dept_id = departments.id;
```

# ржлрж▓рж╛ржлрж▓:
```
| name  | department_name  |
| ----- | ---------------- |
| Rahim | CSE              |
| Karim | EEE              |
| NULL  | BBA              |
```
# ЁЯУЭ ржмрзНржпрж╛ржЦрзНржпрж╛: departments ржЯрзЗржмрж┐рж▓рзЗрж░ id = 104 (BBA) ржПрж░ рж╕рж╛ржерзЗ students ржЯрзЗржмрж┐рж▓рзЗ ржХрзЛржирзЛ ржорж┐рж▓ ржирзЗржЗ, рждрж╛ржЗ ржирж╛ржо NULL рж╣ржпрж╝рзЗржЫрзЗ, ржХрж┐ржирзНрждрзБ BBA рждржмрзБржУ рж░рж┐ржЯрж╛рж░рзНржи рж╣ржпрж╝рзЗржЫрзЗред


# FULL OUTER JOIN
**FULL OUTER JOIN** ржЙржнржпрж╝ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб ржлрзЗрж░ржд ржжрзЗржпрж╝, ржорж┐рж▓ ржерж╛ржХрзБржХ ржмрж╛ ржирж╛ ржерж╛ржХрзБржХред ржорж┐рж▓ ржирж╛ ржерж╛ржХрж▓рзЗ NULL ржжрзЗржЦрж╛ржпрж╝ред

```
SELECT students.name, departments.department_name
FROM students
FULL OUTER JOIN departments
ON students.dept_id = departments.id;
```

# ржлрж▓рж╛ржлрж▓:
```
| name  | department_name  |
| ----- | ---------------- |
| Rahim | CSE              |
| Karim | EEE              |
| Sumon | NULL             |
| Jamil | NULL             |
| NULL  | BBA              |
```
# ЁЯУЭ ржмрзНржпрж╛ржЦрзНржпрж╛: ржПржЯрж┐ LEFT JOIN ржПржмржВ RIGHT JOIN ржПрж░ рж╕ржВржорж┐рж╢рзНрж░ржгред ржЙржнржпрж╝ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб ржжрзЗржЦрж╛ржпрж╝, ржПржмржВ ржпрзЗржЦрж╛ржирзЗ ржорж┐рж▓ ржирзЗржЗ, рж╕рзЗржЦрж╛ржирзЗ NULL ржжрзЗржЦрж╛ржпрж╝ред

## Summary
```
| JOIN ржЯрж╛ржЗржк         | ржХрзА ржХрж░рзЗ                                            |
| ----------------- | -------------------------------------------------- |
| `INNER JOIN`      | рж╢рзБржзрзБ ржорж┐рж▓ ржкрж╛ржУржпрж╝рж╛ рж░рзЗржХрж░рзНржб ржжрзЗржЦрж╛ржпрж╝ред                          |
| `LEFT JOIN`       | ржмрж╛ржо ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб, ржбрж╛ржи ржкрж╛рж╢рзЗ ржорж┐рж▓ ржирж╛ ржерж╛ржХрж▓рзЗ NULL   |
| `RIGHT JOIN`      | ржбрж╛ржи ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб, ржмрж╛ржо ржкрж╛рж╢рзЗ ржорж┐рж▓ ржирж╛ ржерж╛ржХрж▓рзЗ NULL   |
| `FULL OUTER JOIN` | ржЙржнржпрж╝ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб, ржорж┐рж▓ ржирж╛ ржерж╛ржХрж▓рзЗ NULL ржжрзЗржЦрж╛ржпрж╝ред    |
```